<div class="login-wrapper">
    <div class="login-block">
        <h1 class="">PK4.0</h1>

        <ng-container *ngIf="error">
            <div class="invalid-wrapper" i18n>Username or Password is wrong</div>
        </ng-container>

        <pk-dynamic-form [formElements]="loginForm" #dynamicForm>
            <pk-dynamic-form-content>

                <pk-dynamic-form-element *ngFor="let element of loginForm" [element]="element" [form]="dynamicForm.form"></pk-dynamic-form-element>

            </pk-dynamic-form-content>

            <pk-dynamic-form-submit>
                <pk-button (onClick)="login(dynamicForm.form.value)" i18n-value value="Login" icon="security" [class]="(dynamicForm.form && dynamicForm.form.valid) ? 'element--success' : 'element--disabled'"></pk-button>
            </pk-dynamic-form-submit>

        </pk-dynamic-form>
    </div>

    <div class="login-actions">
        <a routerLink="/login/identify">Passwort vergessen</a>
        <a routerLink="/login/register">Registrieren</a>
    </div>
</div>

<!--TODO remove for production-->
<pk-floating top-right fixed>
    <pk-button-animation-wrapper>
        <pk-button
            class="element--spacing-bottom-tiny"
            rounded
            element--success
            (onClick)="fake('student@pk.de')"
            icon='ST'>
        </pk-button>
        <pk-button
            class="element--spacing-bottom-tiny"
            rounded
            element--success
            (onClick)="fake('observer@pk.de')"
            icon='O'>
        </pk-button>
        <pk-button
            class="element--spacing-bottom-tiny"
            rounded
            element--success
            (onClick)="fake('secreteriat@pk.de')"
            icon='SE'>
        </pk-button>
        <pk-button
            class="element--spacing-bottom-tiny"
            rounded
            element--success
            (onClick)="fake('member@pk.de')"
            icon='M'>
        </pk-button>
        <pk-button
            class="element--spacing-bottom-tiny"
            rounded
            element--success
            (onClick)="fake('principal@pk.de')"
            icon='P'>
        </pk-button>
        <pk-button
            class="element--spacing-bottom-tiny"
            rounded
            element--success
            icon='A'
            (onClick)="fake('admin@pk.de')">
        </pk-button>
        <pk-button
            class="element--spacing-bottom-tiny"
            rounded
            element--success
            (onClick)="fake('stephan.reichinger@gmail.de')"
            icon='SR'>
        </pk-button>
        <pk-button
            class="element--spacing-bottom-tiny"
            rounded
            element--success
            (onClick)="fake('patrick.schroeter@hotmail.de')"
            icon='PS'>
        </pk-button>
    </pk-button-animation-wrapper>
</pk-floating>
