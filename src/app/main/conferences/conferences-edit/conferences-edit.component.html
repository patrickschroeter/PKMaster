<pk-loading *ngIf="!conference"></pk-loading>

<div id="conference-edit" class="rel" *ngIf="conference">
    <h2 class="element element--spacing-bottom-small">Edit Conference: {{ conference.description }}</h2>

    <div *ngIf="!conference.config || !conference.config.length" class="empty-wrapper">
        <div class="label" i18n>No Elements here.</div>
        <pk-button
            class="element--spacing-top-large"
            element--secondary
            i18n-value
                 value="Add Config to Conference"
            icon="add"
            (onClick)="openEntryModal()">
        </pk-button>
    </div>

    <div *ngIf="conference.config && conference.config.length">
        <div *ngFor="let entry of conference.config; let index = index">
            <pk-conference-entry [index]="index + 1" [entry]="entry" [forms]="forms" (remove)="removeElement($event)"></pk-conference-entry>
        </div>
    </div>

    <pk-floating top-right fixed>
        <a routerLink="/conferences/{{ conference.id }}">
            <pk-button
                class="element--spacing-bottom-tiny"
                rounded
                element--error
                i18n-pkAlert
                     pkAlert="Cancel"
                icon="clear">
            </pk-button>
        </a>
        <pk-button
            class="element--spacing-bottom-tiny"
            rounded
            element--secondary
            i18n-pkAlert
                 pkAlert="Add Config to Conference"
            icon="add"
            (onClick)="openEntryModal()">
        </pk-button>
        <pk-button
            class="element--spacing-bottom-tiny"
            rounded
            element--success
            i18n-pkAlert
                 pkAlert="Save Conference"
            icon="save"
            (onClick)="saveConference()">
        </pk-button>
        <pk-button
            rounded
            element--error
            i18n-pkAlert
                 pkAlert="Delete Conference"
            icon="delete"
            (onClick)="deleteConference()">
        </pk-button>
    </pk-floating>
</div>

<pk-modal-add-conference-entry #addEntryModal></pk-modal-add-conference-entry>

<pk-modal-add-conference-table-entry #addTableEntryModal></pk-modal-add-conference-table-entry>
