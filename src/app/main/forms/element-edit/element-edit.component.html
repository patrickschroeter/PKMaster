
<div id="form-add-attribute">
    <div class="rel">
        <h2 class="element element--spacing-bottom-small">Create new Element</h2>

        <pk-form
            #dynamicForm
            [formElements]="element"
            [hasSubmit]="elementHasSubmit"
            (onSubmit)="saveElement($event) "
            [hasCancel]="true"
            (onCancel)="cancelElement()"
            (onChange)="updateElement($event)">

        </pk-form>

        <pk-devider class="element element--spacing-bottom-large element--spacing-top-small divider--secondary"></pk-devider>
    </div>

    <div class="preview floating floating--fixed floating--bottom-left" *ngIf="elementPreview.length > 0 && elementHasPreview">
        <h2 class="devider element element--spacing-bottom-small">Element Preview</h2>

        <pk-form
            [formElements]="elementPreview" ></pk-form>

    </div>

    <div class="floating floating--fixed floating--top-right" *ngIf="elementPreview.length > 0 && dynamicForm.form.valid" >
        <pk-button
            class="element--rounded element--spacing-bottom-small" [icon]="'visibility'" (onClick)="toggleElementPreview()" element--secondary></pk-button>

        <div *ngIf="!elementHasValidations || !elementHasStyles" class="element element--spacing-bottom-small">
            <pk-button *ngIf="!elementHasValidations"
                class="element--rounded" [icon]="'security'" (onClick)="addValidations()" element--secondary></pk-button>
            <pk-button *ngIf="!elementHasStyles"
                class="element--rounded" [icon]="'color_lens'" (onClick)="addStyles()" element--secondary></pk-button>
        </div>

        <div class="element element--spacing-bottom-small">
            <pk-button
                class="element--rounded" [icon]="'content_copy'" (onClick)="copyElement(dynamicForm.form.value, 'clone')" element--success></pk-button>
            <pk-button
                class="element--rounded" [icon]="'add'" (onClick)="copyElement(dynamicForm.form.value, 'add')" element--success></pk-button>

            <pk-button
                class="element--rounded" [icon]="'save'" (onClick)="saveElement(dynamicForm.form.value)" element--success></pk-button>
        </div>

        <pk-button
            class="element--rounded element--spacing-bottom-small" [icon]="'clear'" (onClick)="cancelElement()" element--error></pk-button>
        <pk-button
            class="element--rounded" [icon]="'delete'" (onClick)="removeElement()" element--error></pk-button>

    </div>
</div>
